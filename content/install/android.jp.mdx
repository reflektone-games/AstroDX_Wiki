---
title: Android
---

![AstroDX Android Installation Banner](content/media/androidguidebanner.webp)

import { Accordion, Accordions } from "fumadocs-ui/components/accordion";
import { Step, Steps } from "fumadocs-ui/components/steps";

<Callout title="校閲が必要だ!" type="info">
  このセットアップにヘルプが必要な場合は、[discordサーバー](https://discord.gg/6fpETgpvjZ)に参加してください。ありがとうございます！
</Callout>

<iframe
  width="560"
  height="315"
  src="https://www.youtube-nocookie.com/embed/9rr9Ygmyymw?si=tTR3jRaRGG2r56bf"
  title="YouTube video player"
  frameBorder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerPolicy="strict-origin-when-cross-origin"
  allowFullScreen
></iframe>
この[ビデオ](https://www.youtube-nocookie.com/embed/9rr9Ygmyymw?si=tTR3jRaRGG2r56bf)で、より視覚的なセットアップガイドをご覧ください。

# アプリインストール

<Steps>
<Step>
### APKファイルをダウンロードする
公式GithubページのRelease [AstroDX GitHub Releases](https://github.com/2394425147/maipaddx/releases) に遷移し、APKファイルをダウンロードします。
</Step>
<Step>
### Installing

多くのAndroidデバイスでは、セキュリティ上の理由からブラウザからのアプリインストールが制限されています。
そのため、設定から「不明なアプリのインストール」を許可してください。APKファイルをインストーラで開こうとすると表示される設定から変更できます。

</Step>

<Step>
### AstroDXの初期設定

インストールが完了したら、初期化のため、一度AstroDXを起動します。
起動したら、閉じてください。

</Step>
</Steps>

**え、曲が入っていない？**  **次のセクション**で説明します。

# 曲のインストール

<Callout>
  もし**AstroDX e.g. 2.0 pre-beta** か以前のバージョンをご利用の場合は [こちらをご覧ください(英語)。](/install/legacy-android) 
場合によってはサポートを受けられない場合があります。
</Callout>

### 譜面データはどこですか？

以下のリンクにあります。（公式Discord内でGoogle driveのリンクを提供しています）

<Cards>
  <Card
    title="Chart download where?"
    href="https://discord.com/channels/892807792996536453/109669400848866"
  >
    Google driveのリンクです。アプリではフォルダのダウンロードはサポートしていないので、ブラウザで開き、PC版サイト/レイアウトに変更してください。
    質問があればDiscordの#general-日本語へいらしてください。
  </Card>
</Cards>

### **ADX archiveを利用したインポート** **(Recommended, Beta 2 Patch 4 and later)**

複数の曲を同時にインポートする場合の方法です。公式譜面を利用する際に重宝します。

<Steps>

<Step>
  ### zipファイルの拡張子を変更する
  ファイルマネージャを使用し、ダウンロードした `.zip` の**拡張子** を `.adx` にリネームします。ファイル名の部分も、あなたが望むコレクション名に変更しておいてください。
</Step>

<Step>
  ### AstroDXで開く
  ファイルマネージャでadxファイルを選択し、`AstroDX`で開いてください。
</Step>

<Step>
  ### 確認
  AstroDX が自動で曲，コレクションを構築します。 [adxファイルの中身に依存します。](https://astrodx.notion.site/ADX-Archive-Details-a8346048819a40b18f0a6c014c19b0b3?pvs=74).
</Step>

</Steps>

<Callout title="XiaomiやSamsungの端末のファイルマネージャでは、「～で開く」が出来ない場合があります。その場合は共有オプションを利用してください！" type="warn">

うまくいかない場合、ファイル構造が誤っている可能性があります。これらのアプリで`.adx`を`.zip`に戻したうえで、展開して構造を確認することができます。
[**ZArchiver**](https://play.google.com/store/apps/details?id=ru.zdevs.zarchiver&hl=en) /
[**Android SAF**](https://play.google.com/store/apps/details?id=com.marc.files&pcampaignid=web_share)
[**ファイルマネージャ―+**](https://play.google.com/store/apps/details?id=com.alphainventor.filemanager)

また、2GBを超えるadxファイルのインポートは，Androidの制約上出来ません。
</Callout>

### 手動での曲インポート

旧バージョンでのインポートは引き続き利用できます。

ただし、ジャンル分けを行う場合は、 `manifest.json`を編集する必要があります。 

また，これらはdataフォルダへのアクセスを伴います。権限移譲のミスによりアクセスが付与されない場合があり、
PCを使用するか旧バージョンのファイルアプリを利用した抜け道を使う必要があります。
詳細はDiscordで質問してください。

## 旧バージョンからのアップデート

アプリを更新した後にAstroDXを起動すると、自動で新バージョンへコレクションと曲データ、スコアの引継ぎを行います。

もし失敗したら、 AstroDXのルートフォルダ(`Android/data/com.Reflektone.AstroDX/files`)に存在する`cache`ファイルのバックアップを取り出し、Discordの [#help](https://discord.com/channels/892807792996536453/1017394299933044847) フォーラムで質問してください。

# 既存のコレクションへのインポートを含む楽曲追加について

<Callout title="コレクションをさらに変更しますか？">
  **何も変更する気がなければ、次のセクションを飛ばすか**(または、完了したのでガイドを終了しても大丈夫です)。
</Callout>

まず、曲データの配置について示します。
楽曲については、すべて以下のファイル階層構造に従います。

 Android/data/com.Reflektone.AstroDX/files
<Files>
  <Folder name="cache"/>
  <File name="settings.json"/>
  <Folder name="collection"/>
  <Folder name="levels" defaultOpen>
  <Folder name="曲" defaultOpen>
    <File name="bg.jpg（カバーアート）" />
    <File name="mv.mp4（動画）"　/>
    <File name="maidata.txt　（譜面データ）" />
    <File name="track.ogg/mp4　（音源）" />
  </Folder>
  </Folder>
</Files>

要するに、曲名フォルダに音源、カバーアート、譜面などを入れて、そのフォルダを`levels`フォルダ内に配置することで曲がAstroDXに追加されます。
曲を追加したら、AstroDXを開き、曲の再読み込みを行ってください！
dataフォルダにアクセスするため、アクセス権が必要です。PCを使用すると容易です。

ただし、これだけではコレクション分け（バージョンによる分類）は完了していません。続けて読んでください。

コレクションを追加/編集するには、manifest.jsonを編集する必要があります。
manifest.jsonの場所は以下の通りです。

AstroDX
<Files>
  <Folder name="collection" defaultOpen>
    <Folder name="コレクション名" defaultOpen>
    <File name="manifest.json" />
    </Folder>
  </Folder>
</Files>

`manifest.json`の書式を以下に示します。

```json
{
  "name": "コレクション名",
  "id": null, // これは無視してもいい
  "serverUrl": null, // これは無視してもいい
  "levelIds": ["曲1", "曲2", "…曲n"]
}
```
```
前節でadxファイルを使用して曲をインストールした場合、既にいくつかのバージョンについてjsonファイルが生成されているはずです。
jsonファイルを編集できる環境（PCで編集し、ドライブを経由して端末に導入することを推奨します）が得られたら、
`“levelIds”:[]`の中に””で囲う形で曲名を追加入力します。曲と曲の間のカンマを忘れずに！（筆者は何度もこのミスを犯しています。）
以上を終えたら、AstroDXを新しく起動して、譜面の再読み込みボタンを押せば完了です!
```

# FAQ

<Accordions>
	<Accordion title=".rar/.zip ファイルを`/levels`, に入れたが起動しない！">

    仕様が変更されています。
    まずは中のファイルを解凍する必要があります。上記のフォルダ構造と一致するようにしてください。
    2.0 Beta 2 Patch 4 以降のデータを使用する場合、 .adxアーカイブの方法を使った方がいいと思います。
  </Accordion>
  <Accordion title="通知を切る方法がありますか？">
   Androidにも、iOSのアクセスガイドに類似した機能（ピン機能）があります！（ただし、Xiaomiはこれをサポートしません）
  </Accordion> 

<Accordion title="mv.mp4 (or bg.mp4) を入れたが、 MVが再生されない。">

    AstroDX は `pv.mp4` のみをMVとしてサポートします。 `mv.mp4` は [Majdata](https://rentry.org/maiguide)でのサポート形式です。
    </Accordion>

<Accordion title="SDカードはサポートされてますか？">

    SDカードはサポートされていません。

    (Linuxベースの)symlinks inside と呼ばれる機能があるようなので、調査してみてください！
    </Accordion>

<Accordion title="Google Play ストアにAstroDXが無いのはどうして？">

    ゲームが再現である以上、Play Store審査を通していないからです。APKファイルを利用してくださいね。
    </Accordion>

<Accordion title="[2.0 Beta] ストレージレイアウトが変更されましたか？">

    以前のバージョンのAstroDX,では、`levels` フォルダ内に**コレクション**フォルダを作成し、そこに譜面データを入れていました。簡単な方法でしたが、問題点がありました。

    **「同じ曲を複数コレクションで利用できない。」**コレクションはフォルダとして存在するため、同じレベルを同時に複数のフォルダに入れる方法を見つけるのは困難です。たとえ可能だとしても、譜面を削除したり、別の場所に移動したりする場合、ショートカットやリンクの管理は確実に難しくなります。

    **「複数の譜面が同じ名前を持つ可能性がある。」** 譜面をグループ化するためにフォルダを使用していますが、譜面はゲーム内で単一のリストに展開されます。これにより、同じ名前のフォルダが複数存在し、ゲームの譜面の辞書でキーの衝突が発生する可能性があります。また、大量のフォルダに譜面を追加している場合、同じ名前のフォルダがすでに存在するかどうかを識別するのは困難です。

    コレクションを表現する別の方法を使用することで、コレクションデータの編集が若干複雑になりましたが（この問題を修正するために、ゲーム内コレクションマネージャーの追加に取り組んでいます）、上記の問題を修正することができます。
        
</Accordion>
</Accordions>

<p className="font-serif text-center italic text-xl"> 翻訳: @massan7071 (on discord) </p>
